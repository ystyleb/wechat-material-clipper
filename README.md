# 微信公众号素材上传助手

一款 Chrome 扩展，帮助你快速将网页上的图片上传到微信公众号素材库。

## ✨ 功能特性

- **悬浮按钮上传**：鼠标悬停在图片上时显示上传按钮，一键上传
- **右键菜单上传**：右键点击图片，选择"上传到公众号素材库"
- **批量选择模式**：一次选择多张图片批量上传
- **多公众号管理**：支持配置多个公众号，上传时可选择目标公众号
- **上传队列**：实时显示上传进度和状态
- **历史记录**：查看最近上传的图片记录
- **智能优化**：直接从浏览器缓存获取图片，无需重复下载

## 📦 安装方法

### 从源码安装（开发者模式）

1. 下载或克隆本仓库
   ```bash
   git clone https://github.com/ystyleb/wechat-material-clipper.git
   ```

2. 打开 Chrome 浏览器，进入扩展管理页面
   - 地址栏输入 `chrome://extensions/`
   - 或通过菜单：更多工具 → 扩展程序

3. 开启右上角的「开发者模式」

4. 点击「加载已解压的扩展程序」，选择项目文件夹

## 🔧 配置说明

### 获取公众号 AppID 和 AppSecret

1. 登录 [微信公众平台](https://mp.weixin.qq.com/)
2. 进入「设置与开发」→「基本配置」
3. 获取 AppID（开发者ID）
4. 生成 AppSecret（开发者密码）

### 配置 IP 白名单

由于扩展需要调用微信 API，你需要将你的 IP 地址添加到白名单：

1. 在「基本配置」页面，找到「IP白名单」
2. 添加你的公网 IP 地址
3. 如果 IP 经常变化，可以考虑使用代理服务器

### 添加公众号

1. 点击扩展图标，进入设置页面
2. 点击「添加公众号」
3. 填写公众号名称、AppID 和 AppSecret
4. 点击「测试连接」验证配置
5. 保存配置

## 📖 使用方法

### 单张上传

**方式一：悬浮按钮**
1. 将鼠标悬停在想要上传的图片上
2. 点击出现的「上传」按钮
3. 选择目标公众号（如果配置了多个）
4. 等待上传完成

**方式二：右键菜单**
1. 右键点击图片
2. 选择「上传到公众号素材库」
3. 选择目标公众号
4. 等待上传完成

### 批量上传

1. 点击扩展图标
2. 点击「批量选择模式」
3. 点击页面上的图片进行选择（选中的图片会有标记）
4. 点击底部工具栏的「上传选中图片」
5. 选择目标公众号
6. 等待全部上传完成

## ⚙️ 设置选项

- **显示悬浮上传按钮**：是否在鼠标悬停时显示上传按钮
- **上传前询问选择公众号**：是否每次上传都询问选择公众号
- **默认公众号**：设置默认上传的目标公众号

## 🔒 隐私说明

- 本扩展不会收集任何用户数据
- AppID 和 AppSecret 仅保存在本地浏览器中
- 图片直接上传到微信服务器，不经过任何第三方服务器

## 📝 更新日志

### v1.2.0
- 新增上传失败原因提示
- 新增版本号显示
- 优化批量上传体验

### v1.1.0
- 新增多公众号管理功能
- 优化图片获取方式，提升上传速度
- 修复批量上传队列显示问题
- 持久化保存上传历史记录

### v1.0.0
- 初始版本发布
- 支持悬浮按钮上传
- 支持右键菜单上传
- 支持批量选择上传

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 🙏 致谢

本项目使用 [Claude Code](https://claude.com/claude-code) 辅助开发。
